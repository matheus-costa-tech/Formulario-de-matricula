"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["39271"],{217703:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(387784),o=r(230201),i=r(935059),a=r(629724),u=r(573375),c=r(680811);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var b=(0,a.Z)()&&(0,a.Z)().debug_impression_log,E={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function h(e){var t=function(t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&d(i,t);var r,n,o=(r=m(),function(){var e,t=y(i);return e=r?Reflect.construct(t,arguments,y(this).constructor):t.apply(this,arguments),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(p(e=o.call.apply(o,[this].concat(r))),"currentNs",function(){return 1e6*Date.now()}),g(p(e),"startTime",0),g(p(e),"debugPinImpressions",b&&"Pin"===e.props.impressionType&&e.props.viewer.isAuth&&e.props.viewer.isEmployee),g(p(e),"handleVisibilityChanged",function(t){var r=e.props,n=r.componentType,o=r.contextLogData,i=r.impressionAuxFields,a=r.impressionType,u=r.loggingId,c=r.slotIndex,l=r.viewParameter,s=r.viewType,d=r.viewData,p=r.logContextEvent;if(t)e.startTime=e.currentNs(),e.debugPinImpressions&&console.log(c+" started timer");else{var m,y=E[a],v=y.idType,b=e.currentNs(),h=f((g(m={endTime:b},v,u),g(m,"slotIndex",c),g(m,"time",e.startTime),g(m,"renderDuration",b-e.startTime),m),i);p({event_type:y.eventType,component:n,event_data:g({},y.impressionType,[h]),view_type:s,view_parameter:l,view_data:d,aux_data:f({},o)}),e.debugPinImpressions&&console.log(c+" logged for "+(b-e.startTime)/1e9+"s")}}),e}return n=[{key:"render",value:function(){return(0,c.jsx)(u.Z,f(f({onVisibilityChanged:this.handleVisibilityChanged},this.props),{},{children:(0,c.jsx)(e,f({},this.props))}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);return function(e){var r=(0,o.u)().logContextEvent,n=(0,i.Z)();return(0,c.jsx)(t,f(f({},e),{},{logContextEvent:r,viewer:n}))}}},651263:function(e,t,r){r.d(t,{T:function(){return o}});var n=(0,r(213491).Z)("NotificationContext"),o=n.Provider;t.Z=n.get},967515:function(e,t,r){r.d(t,{RC:function(){return m},Hx:function(){return y},Wr:function(){return p}});var n=r(387784),o=r(213491),i=r(27277),a=r(17658),u=r(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){return Promise.resolve().then(r.bind(r,27277))},s=(0,o.Z)("IdeaPinVideoPlayer"),f=s.Provider,d=s.get;function p(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(l,i.initialState))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],d=o[1],p=(0,n.useMemo)(function(){return{dispatch:d,ideaPinVideoPlayerControls:s}},[d,s]);return(0,u.jsx)(f,{value:p,children:r})}function m(){var e=d().dispatch;return(0,n.useMemo)(function(){return{updateSeekTime:function(t,r){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:r||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}},[e])}function y(){return d().ideaPinVideoPlayerControls}},27277:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:function(){return c},initialState:function(){return u}});var u={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return i(i({},e),{},{seekTimes:i(i({},e.seekTimes),{},a({},t.payload.pinId,t.payload.seekTime))});case"CLEAR_SEEK_TIME":return i(i({},e),{},{seekTimes:{}});default:return e}}},573375:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(20256),o=r(293646),i=r(680811);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["onVisibilityChanged","children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){var t=e.onVisibilityChanged,r=e.children,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),s=(0,o.Z)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({onVisibilityChanged:t},l));return(0,i.jsx)(n.xu,{ref:s,children:r})}},264267:function(e,t,r){r.d(t,{pb:function(){return w},nf:function(){return D},lV:function(){return M}});var n=r(387784),o=r(581722),i=r(39801),a=r.n(i),u=r(27399),c=r(213491),l=r(681698),s=r(57887),f=r(360033),d=r(730056);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){var n;return(n=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==p(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={feature_map:Object.freeze({})},b=function(e,t){var r=y(y(y(y({},(0,d.Z)(e,t)),t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})),t.tags?{tags:t.tags}:Object.freeze({})),t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({}));return(0,f.ZP)(e,r)?e:r},E=function(e,t){if(e=e||v,"FETCH_COMPLETE"===t.type){var r,n,o=t.payload,i=o.resource,a=o.options,u=void 0===a?{}:a,c=t.payload.response.resource_response.data;if("AggregatedCommentReplyFeedResource"===i||"ApiResource"===i&&u.url==="/v3/aggregated_comments/".concat(null==(r=u.data)?void 0:r.aggregated_comment,"/replies/")||"ApiResource"===i&&u.url==="/v3/aggregated_pin_data/".concat(null==(n=u.data)?void 0:n.aggregated_pin_data,"/comments/")||"DidItCommentsResource"===i){var l=(c||[]).reduce(function(t,r){return t[r.id]=b(e[r.id],r),t},{});return y(y({},e),l)}if("UnifiedCommentsResource"===i&&c&&c.length>0){var s=c.filter(function(e){return"aggregatedcomment"===e.type}).reduce(function(t,r){return t[r.id]=b(e[r.id],r),t},{});return y(y({},e),s)}if("UnifiedCommentsPreviewResource"===i&&c&&c.length>0){var f=c.map(function(e){return e.aggregated_comment}).reduce(function(t,r){return r&&(t[r.id]=b(e[r.id],r)),t},{}),d=c.map(function(e){return e.creator_reply}).reduce(function(t,r){return r&&r.id&&(t[r.id]=b(e[r.id],r)),t},{});return y(y(y({},e),f),d)}if("ApiResource"===i&&"/v3/aggregated_comments/features/"===u.url&&c&&Object.keys(c).length>0)return y(y({},e),{},{feature_map:c})}else if("AGGREGATED_COMMENT_CREATED"===t.type){var p=t.payload.aggregatedComment;return p.id?y(y({},e),{},g({},p.id,p)):e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var m=t.payload.aggregatedCommentId,E=y({},e);return delete E[m],E}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){var h,_=t.payload.userId;return Object.fromEntries(Object.entries(null!=(h=e)?h:{}).filter(function(e){var t;return(null==(t=e[1].user)?void 0:t.id)!==_}))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){var O,T=t.payload.data;return y(y({},e),{},g({},T.id,b(null==(O=e)?void 0:O[T.id],T)))}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var P,j=t.payload.data,A=null==(P=e)?void 0:P[j.id],C=(null==A?void 0:A.reaction_counts[1])||0,I=g({},1,j.reaction_by_me?C+1:C-1),S=y(y({},A),{},{reaction_by_me:j.reaction_by_me,reaction_counts:I});return y(y({},e),{},g({},j.id,S))}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){var w,D=t.payload.data,M=null==(w=e)?void 0:w[D.id],G=(null==M?void 0:M.helpful_count)||0,R=D.marked_helpful_by_me?G+1:G-1,N=y(y({},M),{},{marked_helpful_by_me:D.marked_helpful_by_me,helpful_count:R});return y(y({},e),{},g({},D.id,N))}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){var x,U=t.payload.data,Z=y(y({},null==(x=e)?void 0:x[U.aggregated_comment_id]),{},{highlighted_by_pin_owner:U.is_highlighted});return y(y({},e),{},g({},U.aggregated_comment_id,Z))}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){var k,L=t.payload.data.featureMap;return y(y({},e),{},{feature_map:y(y({},null==(k=e)?void 0:k.feature_map),L)})}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var H,F=t.payload,V=F.increment,K=F.id,B=null==(H=e)?void 0:H[K];if(!B)return e;var z=y(y({},B),{},{comment_count:B.comment_count+V});return y(y({},e),{},g({},K,z))}else if("DELETE_COMMENT_MENTION"===t.type){var W,$=t.payload,J=$.aggregatedCommentId,Y=$.tagged_users,q=y(y({},null==(W=e)?void 0:W[J]),{},{tagged_users:Y});return y(y({},e),{},g({},J,q))}else if("GET_COMMENT_TRANSLATION"===t.type){var Q,X=t.payload,ee=X.aggregatedCommentId,et=X.translatedText,er=y(y({},null==(Q=e)?void 0:Q[ee]),{},{translatedText:et});return y(y({},e),{},g({},ee,er))}return e},h=r(680811);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function T(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){O(i,n,o,a,u,"next",e)}function u(e){O(i,n,o,a,u,"throw",e)}a(void 0)})}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C=(0,c.Z)("AggregatedComments"),I=C.Provider,S=C.get;function w(e){var t,r=e.children,i=(0,o.v9)(function(e){var t=e.resources;return null==t?void 0:t.UnifiedCommentsResource}),a=v;i&&Object.values(i).forEach(function(e){var t,r=null==(t=e.data)?void 0:t.filter(function(e){return"aggregatedcomment"===e.type}),n=null==r?void 0:r.reduce(function(e,t){return e[t.id]=b(a[t.id],t),e},{});a=A(A({},a),n)});var u=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(E,a))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return P(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],l=u[1],f=function(e){l({type:"FETCH_COMPLETE",payload:e})};(0,s.Z8)("AggregatedCommentReplyFeedResource",f),(0,s.my)("AggregatedCommentReplyFeedResource",f),(0,s.Z8)("ApiResource",f),(0,s.my)("ApiResource",f),(0,s.Z8)("DidItCommentsResource",f),(0,s.my)("DidItCommentsResource",f),(0,s.Z8)("UnifiedCommentsPreviewResource",f),(0,s.my)("UnifiedCommentsPreviewResource",f),(0,s.Z8)("UnifiedCommentsResource",f),(0,s.my)("UnifiedCommentsResource",f);var d=(0,n.useMemo)(function(){return{aggregatedComments:c,dispatch:l}},[c,l]);return(0,h.jsx)(I,{value:d,children:r})}function D(){var e=S().dispatch;return(0,n.useMemo)(function(){var t,r,n,o,i,c;return{aggregatedCommentCreated:function(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:function(t,r){e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:(t=T(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.isAggregatedComment)||r,o=t.commentId,i=t.reason,a=t.detailedReasons,u=n?"/v3/aggregated_comments/".concat(o,"/flag/"):"/v3/did_it/".concat(o,"/flag/"),e.abrupt("return",(0,l.Z)({url:u,method:"PUT",data:{commentId:o,reason:i,detailedReasons:a}}));case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),deleteCommentMention:(r=T(regeneratorRuntime.mark(function t(r){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.Z)({url:"/v3/aggregated_comments/".concat(r,"/mentions/"),method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}});case 2:e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:(o=null!=(n=t.sent.resource_response.data)?n:{}).id,tagged_users:o.tagged_users}});case 6:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)}),translateAggregatedComment:(n=T(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.Z)({url:"/v3/aggregated_comments/".concat(r,"/translate/"),method:"GET"});case 3:e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:r,translatedText:null!=(n=t.sent.resource_response.data)?n:""}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:r,translatedText:""}});case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return n.apply(this,arguments)}),toggleAggregatedCommentHelpful:function(t){var r=t.aggregatedCommentId,n=t.isMarkedHelpfulByMe,o=t.orbacSubjectId;(0,l.Z)({url:"/v3/helpful/1/".concat(r,"/"),method:n?"DELETE":"POST",data:o?{orbac_subject_id:o}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:r,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:(o=T(regeneratorRuntime.mark(function t(r){var n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.aggregatedCommentId,o=r.pinId,i=r.isHighlighted,a()(n,"Could not find comment"),a()(o,"Could not find Pin"),t.next=5,(0,l.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:n,pin:o,highlight:!i}});case 5:e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:n,pin_id:o,is_highlighted:!i}}});case 6:case"end":return t.stop()}},t)})),function(e){return o.apply(this,arguments)}),toggleAggregatedCommentLike:function(t){var r=t.aggregatedCommentId,n=t.isLikedByMe,o=t.orbacSubjectId;(0,l.Z)({url:"/v3/aggregated_comments/".concat(r,"/react/"),method:n?"DELETE":"POST",data:A({reaction_type:1},o?{orbac_subject_id:o}:{})}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:r,reaction_by_me:+!n}}})},updateAggregatedComment:(i=T(regeneratorRuntime.mark(function t(r){var n,o,i,a,c,l,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.commentId,i=r.force,a=r.orbacSubjectId,c=r.tags,l=r.text,t.next=3,u.Z.create("AggregatedCommentResource",A({commentId:o,force:i,tags:c,text:l},a?{orbacSubjectId:a}:{})).callUpdate({showError:!1});case 3:s=(null!=(n=t.sent.resource_response.data)?n:{}).tagged_users.map(function(e){return A({},e)}),e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:o,tagged_users:s,tags:JSON.parse(c),text:l}}});case 8:case"end":return t.stop()}},t)})),function(e){return i.apply(this,arguments)}),updateAggregatedCommentFeatures:(c=T(regeneratorRuntime.mark(function t(r){var n,o,i,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.userId,i=r.featureMap,a=r.passcode,u=r.userConfirmPasscode,t.next=3,(0,l.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:o,feature_map:JSON.stringify(i),passcode:a,user_confirm_skip_passcode:null!=u&&u}});case 3:e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:null!=(n=t.sent.resource_response.data)?n:Object.freeze({})}}});case 7:case"end":return t.stop()}},t)})),function(e){return c.apply(this,arguments)}),updateCommentCount:function(t,r){e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}}},[e])}function M(){return S().aggregatedComments}},63805:function(e,t,r){r.d(t,{H8:function(){return y},Ut:function(){return m},fr:function(){return p}});var n=r(387784),o=r(213491),i=r(17658),a=r(553734),u=r(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){return r.e("38938").then(r.bind(r,835802))},s=(0,o.Z)("IdeaPin"),f=s.Provider,d=s.get;function p(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,i.Z)(l,a.Z))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],d=o[1],p=(0,n.useMemo)(function(){return{dispatch:d,ideaPin:s}},[d,s]);return(0,u.jsx)(f,{value:p,children:r})}function m(){var e=d().dispatch;return(0,n.useMemo)(function(){return{setIdeaPinActivePage:function(t){e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:function(t){e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}},[e])}function y(){return d().ideaPin}},553734:function(e,t){t.Z={activePage:0,dynamicWidth:0}},872003:function(e,t,r){r.d(t,{G:function(){return m},Kl:function(){return y},vo:function(){return p}});var n=r(387784),o=r(213491),i=r(57887),a=r(17658),u=r(680811);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){return r.e("65333").then(r.bind(r,557189))},s=(0,o.Z)("NativeEngagements"),f=s.Provider,d=s.get;function p(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(l,[]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],d=o[1];(0,i.Z8)("NativeInteractionsResource",function(e){d({type:"FETCH_COMPLETE",payload:e})}),(0,i.my)("NativeInteractionsResource",function(e){d({type:"FETCH_MORE_COMPLETE",payload:e})});var p=(0,n.useMemo)(function(){return{dispatch:d,nativeEngagements:s}},[d,s]);return(0,u.jsx)(f,{value:p,children:r})}function m(){var e=d().dispatch;return(0,n.useMemo)(function(){return{nativeEngagementsHiddenForUser:function(t){e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}},[e])}function y(){return d().nativeEngagements}},301527:function(e,t,r){r.d(t,{o:function(){return l},p:function(){return s}});var n=r(387784),o=r(213491),i=r(680811);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,o.Z)("Session"),c=u.Provider,l=u.get;function s(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{for(i=(r=r.call(e)).next;!(c=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],l=o[1],s=(0,n.useCallback)(function(){return l(void 0)},[]),f=(0,n.useMemo)(function(){return{unauthCommentPinId:u,setUnauthCommentPinId:l,removeUnauthCommentPinId:s}},[u,s]);return(0,i.jsx)(c,{value:f,children:r})}}}]);