"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["42725"],{665849:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(20256),i=r(285676),o=r(228612),a=r(680811);function s(e){var t=e.handleTogglePinSelection,r=e.index,s=e.isSelected,l=e.isDisabled,c=e.pin,d=e.surface,u=e.unselectedState,_=e.disableHover,h=(0,o.S6)()(c.id);return(0,a.jsx)(n.iP,{disabled:l,onTap:function(){t(c,!s)},rounding:4,children:(0,a.jsx)(i.r,{attributionOption:"hide",blockClickEvents:!0,disableHover:_,pinId:c.id,pinImageCrop:"none",pinKey:{type:"Legacy",data:null!=h?h:c},saveButtonOptions:{type:"none"},selectionState:s?"selected-image-only":void 0===u?"deselected-image-only":u,slotIndex:r,surface:d})})}},576629:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(387784),i=r(20256),o=r(665849),a="select_pins",s="board_picker",l="create_board",c=r(230201),d=r(465784),u=r(24246),_=r(581722),h=r(653551),f=r(236269),p=r(924591),g=r(216975),b=r(501010),y=r(661376),m=r(577356),v=r(494843),x=r(33529),S=r(680811);function P(e){var t=e.isFirstBoardCreation,r=e.isOnSelectStep,n=e.onClickBackButton,o=e.onDismiss,a=e.selectedPinCount,s=(0,u.Z)(),l=s.bt("Organizar em uma pasta", "Organize into a board", "boardlessPins.modalHeading.organizeHeading", undefined, true),c=a>0?(0,g.nk)(s.nbt(["{{ pinCount }} selecionado", "{{ pinCount }} selecionados"], a, "boardlessPins.modalHeading.PinCountHeading", true),{pinCount:a}):l,d=s.bt("Criar pasta", "Create board", "boardlessPins.modalHeading.createBoardHeading", undefined, true);return(0,S.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[t||r?(0,S.jsx)(i.xu,{height:40,width:40}):(0,S.jsx)(i.hU,{accessibilityLabel:s.bt("Voltar para o modal anterior", "Go back to previous modal", "boardlessPins.modalHeading.arrowBackIconButton", undefined, true),disabled:r,icon:"arrow-back",iconColor:r?"white":"darkGray",onClick:n,size:"md"}),(0,S.jsx)(i.xu,{maxWidth:486,children:(0,S.jsx)(i.X6,{align:"center",size:"600",children:r?c:d})}),(0,S.jsx)(i.hU,{accessibilityLabel:s.bt("Cancelar as alterações", "Cancel changes", "boardlessPins.modalHeading.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})]})}var j=r(592410),w=r(779686),A=r(679602),B=r(438274),C=r(427475);function I(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function T(e){var t,r,o=e.boardlessPinsBoardId,l=e.hasBoards,c=e.isOnSelectStep,O=e.onDismiss,T=e.selectedPins,z=e.updateCurrentStep,E=e.userId,L=e.isFirstBoardCreation,R=void 0!==L&&L,Z=e.onComplete,D=(0,u.Z)(),N=(0,C.Z)(),F=k((0,n.useState)(!1),2),M=F[0],H=F[1],U=k((0,n.useState)(""),2),W=U[0],J=U[1],X=k((0,n.useState)(""),2),V=X[0],q=X[1],Y=k((0,n.useState)(!l),2),K=Y[0],Q=Y[1],G=(0,b.Z)().checkExperiment,$=(0,y.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),ee=(0,_.I0)(),et=(0,h.s0)(),er=(0,m.dI)(),en=T[0],ei=T.map(function(e){return e.image}).filter(function(e){return!!e}),eo=function(e,t){var r=T.map(function(e){return e.id});ee((0,A.Z)({selectedPinIds:r,source:{boardId:o,sectionId:null},target:{boardId:e,sectionId:t||null}},D)),ee((0,w.EX)({feedId:E,feedType:B.Z.BOARDLESS_PINS,itemIds:r,itemType:"pin"}))},ea=(t=regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:V,privacy:M?"secret":"public",aux_data:{source:"organize_pins"}},e.prev=1,e.next=4,N({boardCreateOptions:t});case 4:return r=e.sent,e.next=7,eo(r.id);case 7:O(),R&&G("ap_dweb_first_board_creation",{dangerouslySkipActivation:!0}).group.includes("genie")?(er.showToast(function(e){var t,n,o,a,s=e.hideToast;return(0,S.jsx)(p.Z,{duration:3e3,imageUrl:null!=(t=null==(n=T[0])||null==(o=n.image)?void 0:o.url)?t:"",onHide:s,text:(0,S.jsx)(i.xv,{overflow:"normal",size:"200",children:(0,g.XB)({text:D.bt("Salvo em <a id=\"1\">{{ boardName }}</a>", "Saved to <a id=\"1\">{{ boardName }}</a>", "BoardlessPinsBoardPicker.SavedToBoardToast.Message", undefined, true),markers:{boardName:null!=(a=r.name)?a:""},jsxReplacements:{1:function(e){var t,n=e.innerHtmlStrings;return(0,S.jsx)(i.rU,{display:"block",href:null!=(t=r.url)?t:"",children:(0,S.jsx)(i.xv,{lineClamp:1,size:"200",weight:"bold",children:n},"PostSavedPinToastBoardName")})}}})}),thumbnail:{icon:(0,S.jsx)(i.JO,{accessibilityLabel:D.bt("Salvo nas miniaturas do perfil", "Saved to profile thumbnail", "BoardlessPinsBoardPicker.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"history",size:24})}})}),o=T.map(function(e){return e.id}),null==Z||Z(null!=(n=o[0])?n:"")):(er.showToast(function(e){var t=e.hideToast;return(0,S.jsx)(p.Z,{onHide:t,text:D.bt("Pasta criada!", "Board created!", "BoardlessPinsBoardPicker.boardCreated.toast", undefined, true)})}),r.url&&et(r.url,{replace:!0})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),a=D.bt("Ocorreu um erro.", "Uh oh! Something went wrong.", "BoardlessPinsBoardPicker.boardCreate.submitErrorDefault", undefined, true),"string"==typeof e.t0?a=e.t0:(s=(0,f.Z)(e.t0,"message"))&&(a=(l=(0,f.Z)(e.t0,"message_detail"))?"".concat(s," ").concat(l):s),J(a);case 16:case"end":return e.stop()}},e,null,[[1,11]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(e){I(o,n,i,a,s,"next",e)}function s(e){I(o,n,i,a,s,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),es=(0,S.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,S.jsx)(i.hU,{accessibilityLabel:D.bt("Voltar", "Go back", "BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton", undefined, true),disabled:c,icon:"arrow-back",iconColor:c?"white":"darkGray",onClick:function(){return z(a)},size:"md"}),(0,S.jsx)(i.X6,{align:"center",size:"600",children:D.bt("Mover para uma pasta", "Move to a board", "BoardlessPinsBoardPicker.save.modalTitle", undefined, true)}),(0,S.jsx)(i.hU,{accessibilityLabel:D.bt("Cancelar as alterações", "Cancel changes", "BoardlessPinsBoardPicker.modalHeading.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:O,size:"md"})]});return K?(0,S.jsx)(d.ZP,{accessibilityModalLabel:D.bt("Criar pasta", "Create board", "BoardlessPinsBoardPicker.createBoard.accessibilityLabel", undefined, true),footer:(0,S.jsx)(i.kC,{justifyContent:"end",children:(0,S.jsx)(i.zx,{color:"red",disabled:0===V.trim().length,onClick:function(){ea()},size:"lg",text:D.bt("Criar", "Create", "BoardlessPinsBoardPicker.boardCreate.createButton", undefined, true)})}),heading:(0,S.jsx)(P,{isOnSelectStep:!1,onClickBackButton:function(){z(l?s:a),Q(!1)},onDismiss:O,selectedPinCount:T.length}),onDismiss:O,size:"md",children:(0,S.jsx)(i.xu,{height:644,children:(0,S.jsx)(j.Z,{boardThumbs:ei,isSecret:M,name:V,onNameChange:function(e){var t=e.value;t.trim()?J(""):J(D.bt("Não se esqueça de dar um nome à sua pasta!", "Don't forget to name your board!", " - ", undefined, true)),q(t)},onVisibilityChange:function(e){return H(e.checked)},submitError:W})})}):(0,S.jsx)(d.ZP,{accessibilityModalLabel:D.bt("Mover para uma pasta", "Move to a board", "BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel", undefined, true),heading:es,onDismiss:O,size:"md",children:(0,S.jsx)(i.xu,{padding:1,children:(0,S.jsx)(x.xH,{boardResource:$,changeBoardModal:!0,onBoardCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title;q(void 0===t?"":t),Q(!0)},onItemChosen:function(e){eo(e.boardId,e.sectionId),er.showToast(function(t){var r=t.hideToast;return(0,S.jsx)(p.Z,{onHide:r,text:(0,g.nk)(D.bt("Movido para {{boardName}}", "Moved to {{boardName}}", "BoardlessPinsBoardPicker.onItemChosen.toast", undefined, true),{boardName:e.title}).join("")})}),O()},paneHeight:644,paneWidth:720,pinId:en.id,surface:v.Z.ORGANIZE_PINS})})})}var z=r(228612);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||L(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return R(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Z(e){var t,r,_,h=e.boardlessPinsNormalized,f=e.fetchMore,p=e.hasBoards,g=e.isFirstBoardCreation,b=void 0!==g&&g,y=e.onDismiss,m=e.userId,v=e.onComplete,x=(0,u.Z)(),j=(0,n.useRef)(null),w=E((0,n.useState)([]),2),A=w[0],B=w[1],C=E((0,n.useState)(a),2),I=C[0],k=C[1],O=(0,c.u)().logContextEvent,Z=(0,z.JC)(),D=(0,n.useMemo)(function(){return h&&Z?h.reduce(function(e,t){var r=Z[t.id];return e.push(r),e},[]):[]},[h,Z]);(0,n.useEffect)(function(){b&&D.length&&B(D.reduce(function(e,t){if(t){var r,n,i,o;e.push({id:t.id,image:b?null!=(r=null==(n=t.images)?void 0:n["236x"])?r:null:null!=(i=null==(o=t.images)?void 0:o["170x"])?i:null})}return e},[]))},[D,b]);var N=null!=(t=null==(r=D[0])||null==(_=r.board)?void 0:_.id)?t:"",F=function(e,t){var r,n,i,o=function(e){if(Array.isArray(e))return R(e)}(A)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(A)||L(A)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();t?(b?O({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}):O({event_type:7301,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!0,pin_id:e.id}}),r=o.concat({id:e.id,image:b?null==(n=e.images)?void 0:n["236x"]:null==(i=e.images)?void 0:i["170x"]})):(b?O({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}):O({event_type:14667,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!1,pin_id:e.id}}),r=o.filter(function(t){return t.id!==e.id})),B(r)};(0,n.useEffect)(function(){var e;I===a?e=b?4166:3906:I===s?e=b?4167:3133:I===l&&(e=3992),(I===a||I===s||I===l)&&O({event_type:13,view_type:b?740:631,view_parameter:e})},[I,b,O]);var M=I===a,H=function(){O({event_type:101,view_type:b?740:631,view_parameter:b?4166:3906,element:b?96:14187})};return(0,S.jsx)(n.Fragment,{children:M?(0,S.jsx)(d.ZP,{accessibilityModalLabel:x.bt("Organizar em uma pasta", "Organize into a board", "boardlessPins.organizeModal.accessibilityLabel", undefined, true),footer:(0,S.jsx)(i.kC,{justifyContent:"end",children:(0,S.jsx)(i.zx,{color:"red",disabled:0===A.length,onClick:function(){H(),k(s)},size:"lg",text:x.bt("Avançar", "Next", "boardlessPins.organizeModal.nextButton", undefined, true)})}),heading:(0,S.jsx)(P,{isFirstBoardCreation:b,isOnSelectStep:M,onClickBackButton:function(){return k(a)},onDismiss:y,selectedPinCount:A.length}),onDismiss:function(){b&&O({event_type:17476,view_type:740,view_parameter:4166}),y()},size:"md",children:(0,S.jsx)(i.xu,{ref:j,height:428,children:D&&j&&(0,S.jsx)(i.Rk,{columnWidth:152,gutterWidth:16,items:D,loadItems:f,renderItem:function(e){var t=e.data,r=e.itemIdx;return(0,S.jsx)(o.Z,{handleTogglePinSelection:F,index:r,isSelected:!!A.filter(function(e){return e.id===t.id}).length,pin:t,surface:"SelectableBoardlessPin",unselectedState:"no-selection"})},scrollContainer:function(){return j.current}})})}):(0,S.jsx)(T,{boardlessPinsBoardId:N,hasBoards:p,isFirstBoardCreation:b,isOnSelectStep:M,onComplete:v,onDismiss:function(){b&&O({event_type:17476,view_type:740,view_parameter:4167}),y()},selectedPins:A,updateCurrentStep:function(e){return k(e)},userId:m})})}},270434:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(387784),i=r(581722),o=r(653551),a=r(400904),s=r(576629),l=r(20256),c=r(440077),d=r(935059),u=r(24246),_=r(216975),h=r(748261),f=r(38359),p=r(680811);function g(e){var t=e.boardlessPins,r=e.displayFBCModalContent,i=e.handleClick,o=e.imageUrl,a=e.inFBCExperiment,s=e.pinRef,g=e.smallPinRep1,b=e.smallPinRep2,y=e.title,m=e.updateStep,v=e.onDismiss,x=(0,u.Z)(),S=(0,d.Z)(),P=S.isAuth?S.username:null,j=x.bt("Salve, classifique, encontre", "Save it, sort it, find it", "fbc.modal.title", undefined, true),w=x.bt("As pastas permitem colecionar e organizar suas ideias favoritas para poder voltar ao que inspira você.", "Boards let you collect and organize your favorite ideas so you can get back to what inspires you.", "fbc.modal.subtitle", undefined, true),A=x.bt("Criar pasta", "Create board", "fbc.modal.button.text", undefined, true),B=P?(0,_.Wc)(x.bt("Vibe de @{{ username }}!", "@{{ username }}'s Vibe!", "fbc.modal.board.title", undefined, true),{username:P.charAt(0).toUpperCase()+P.slice(1)}):null;return a?(0,p.jsx)(l.kC,{alignItems:"center",direction:"column",height:594,justifyContent:"start",width:"540",children:r?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(l.xu,{marginEnd:2,marginTop:2,padding:2,position:"absolute",right:!0,top:!0,children:(0,p.jsx)(l.hU,{accessibilityLabel:"Dismiss modal",icon:"cancel",iconColor:"darkGray",onClick:v,size:"lg"})}),(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:c.jc_}},display:"flex",flex:"grow",justifyContent:"center",width:"100%",children:(0,p.jsxs)(l.xu,{alignItems:"start",color:"default",direction:"column",display:"flex",justifyContent:"center",padding:6,rounding:4,width:369,children:[(0,p.jsx)(h.Z,{images:t}),B&&(0,p.jsx)(l.xu,{marginTop:1,paddingX:1,width:"100%",children:(0,p.jsx)(l.xv,{children:B})})]})}),(0,p.jsx)(l.kC,{justifyContent:"center",width:"100%",children:(0,p.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:5,width:458,children:[(0,p.jsx)(l.X6,{align:"center",size:"600",children:j}),(0,p.jsx)(l.xu,{marginTop:2,width:"100%",children:(0,p.jsx)(l.xv,{align:"center",children:w})}),(0,p.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:4,paddingX:6,width:"100%",children:(0,p.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:m,size:"lg",text:A})})]})})]}):(0,p.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(l.xH,{show:!0})})}):(0,p.jsxs)(l.iP,{onTap:i,rounding:8,children:[(0,p.jsx)(l.xu,{alignItems:"center","data-test-id":"content-wrapper",display:"flex",justifyContent:"center",marginTop:8,minHeight:f.mE,children:(0,p.jsxs)(l.xu,{display:"flex",justifyContent:"between",overflow:"hidden",rounding:4,children:[(0,p.jsx)(l.xu,{ref:s,height:f.mE,width:f.Kp,children:o&&(0,p.jsx)(l.Ee,{alt:y||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})}),(0,p.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,p.jsx)(l.xu,{ref:g,color:"secondary",height:f.mE/2}),(0,p.jsx)(l.xu,{ref:b,color:"secondary",height:f.mE/2})]})]})}),(0,p.jsx)(l.xu,{padding:8,children:(0,p.jsx)(l.X6,{align:"center",size:"600",children:x.bt("Mantenha suas ideias organizadas criando uma pasta", "Keep your ideas organized by creating a board", "quickSave.eduToast.heading", undefined, true)})})]})}var b=r(230201),y=r(465784),m=r(661376),v=r(893957),x=r(328299),S=r(228612);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r=e.boardId,l=e.boardUrl,c=e.onHide,_=e.imageUrl,h=e.title,j=e.toastDuration,w=e.firstBoardCreationExperimentEnabled,A=void 0!==w&&w,B=e.onComplete,C=(0,b.u)().logContextEvent,I=(0,u.Z)(),k=(0,o.s0)(),O=(0,n.useRef)(null),T=(0,n.useRef)(null),z=(0,n.useRef)(null),E=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)("INTRO_STEP"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return P(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),L=E[0],R=E[1],Z=(0,d.Z)(),D=Z.isAuth?Z.id:"",N=(0,i.v9)(function(e){return e.feeds["boardless-pins:".concat(Z.isAuth?Z.id:"")]})||[],F=(0,S.JC)(),M=(0,x.Xt)(D).boardlessPinsEnabled,H=(0,m.Z)(A&&M&&D?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:D}}:null),U=!!N&&N.reduce(function(e,t){var r,n,i=F[t.id];return e.push({name:null==i?void 0:i.description,url:null==i||null==(r=i.images)||null==(n=r["236x"])?void 0:n.url}),e},[])||[],W=(N||[]).length>0&&(null==H?void 0:H.data);(0,v.Z)(function(){A&&C({event_type:13,view_type:740,view_parameter:4165})}),(0,n.useEffect)(function(){C({event_type:9311,element:11934,object_id_str:r});var e=function(){var e=O.current,t=T.current,r=z.current;e&&t&&r&&((0,a.Z)({targets:e,height:[f.Kp+2],duration:600,delay:1e3,easing:"linear"}),(0,a.Z)({targets:[t,r],width:[0,f.Kp/2],height:[f.Kp/2],marginLeft:[2],delay:1e3,duration:600,easing:"linear"}))};setTimeout(function(){return e()},100);var t=setTimeout(function(){A||c()},j);return function(){return clearTimeout(t)}},[]);var J=function(){return a.Z.remove([O.current,T.current,z.current])},X=function(){C({event_type:9313,element:11934,object_id_str:r}),A&&C({event_type:17476,view_type:740,view_parameter:4165}),J(),c()};return(0,p.jsxs)(n.Fragment,{children:["INTRO_STEP"===L&&(0,p.jsx)(y.ZP,{accessibilityModalLabel:I.bt("Mantenha suas ideias organizadas criando uma pasta", "Keep your ideas organized by creating a board", "quickSave.eduToast.modalAccessibilityLabel", undefined, true),onDismiss:X,children:(0,p.jsx)(g,{boardlessPins:U,displayFBCModalContent:!!W,handleClick:function(){C({event_type:9312,element:11934,object_id_str:r}),J(),c(),k(l)},imageUrl:_,inFBCExperiment:A,onDismiss:X,pinRef:O,smallPinRep1:T,smallPinRep2:z,title:h,updateStep:function(){R("BOARD_CREATE_STEP"),C({event_type:101,view_type:740,view_parameter:4165,element:96})}})}),A&&"BOARD_CREATE_STEP"===L&&N.length>0&&(0,p.jsx)(s.Z,{boardlessPinsNormalized:N,fetchMore:function(){},hasBoards:!1,isFirstBoardCreation:A,onComplete:B,onDismiss:c,userId:Z.isAuth?Z.id:""})]})}},131391:function(e,t){t.Z=function(e){return{isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}}},337079:function(e,t){t.Z=2},135269:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(739405),i=r(177433);function o(){var e={deviceType:(0,n.ZP)(),site:(0,i.uo)()},t=e.deviceType;switch(e.site){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===t||"tablet"===t)}}},352507:function(e,t,r){r.d(t,{l:function(){return c}});var n=r(387784),i=r(131391),o=r(774838),a=r(135269),s=r(190914),l=r(200619),c=(0,n.createContext)(void 0);t.Z=function(){var e,t,r,d=(0,o.B)().advertiser,u=(e=(0,i.Z)((0,a.Z)()).isSterlingSite,null!=(t=(0,n.useContext)(c))?t:e),_=(0,l.Z)(),h=((null==(r=(0,s.W)())?void 0:r.profiles)||[]).find(function(e){return(null==e?void 0:e.id)===(null==d?void 0:d.owner_user_id)});return u&&h||_}},494843:function(e,t){t.Z={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},266637:function(e,t,r){r.d(t,{j:function(){return a}});var n={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},i=function(e){if(!e)return"";for(var t="",r=0;r<e.length;r+=1)t+=n[e.charAt(r)]||e.charAt(r);return t},o=function(e,t){for(var r=t.split(" "),n=e.split(" "),o=0,a=0;a<n.length;a+=1)(i(n[a]).includes(r[o])||n[a].includes(r[o]))&&(o+=1);return o===r.length},a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",n=t.toLowerCase();return e.filter(function(e){return o(e[r].toLowerCase(),n)})}},824751:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(20256),i=r(24246),o=r(680811);function a(){var e=(0,i.Z)();return(0,o.jsx)(n.JO,{accessibilityLabel:e.bt("Pasta secreta", "Secret board", "Accessibility label for icon indicating a secret board", undefined, true),color:"default",icon:"lock",inline:!0})}},33529:function(e,t,r){r.d(t,{DR:function(){return eP},MD:function(){return em},sR:function(){return ew},uC:function(){return ej},xH:function(){return eA}});var n=r(387784),i=r(581722),o=r(347564),a=r(20256),s=r(230201),l=r(47755),c=r(935059),d=r(24246),u=r(59111),_=r(216975),h=r(501010),f=r(774838),p=r(660322),g=r(661376),b=r(337079),y=r(352507),m=r(601871),v=r(494843),x=r(632492),S=r(893957),P=r(680811);function j(e){var t=e.children,r=e.headingLevel,n=e.textWeight,i=e.size,o="100"===i?"200":i,s="500"===i||"600"===i?"400":i;return(0,P.jsx)(a.X6,{accessibilityLevel:r,size:o,children:(0,P.jsx)(a.xv,{inline:!0,size:s,weight:void 0===n?"normal":n,children:t})})}function w(e){var t=e.boardPickerSuggestedBoards,r=e.clientTrackingParams,n=e.imageSignature,i=e.index,o=e.item,l=e.pinId,c=e.saveSessionId,d=e.surfaceOriginViewParameter,u=e.useLegoLayout,_=(0,s.u)().logContextEvent;return(0,S.Z)(function(){"shortlist"===o.category&&_({aux_data:{board_picker_surface_origin:d,board_picker_suggested_boards:t,image_signature:n,pin_id:l,save_session_id:c},event_type:13,clientTrackingParams:r,view_type:21,view_parameter:3988})}),(0,P.jsx)(a.xu,{marginTop:i>0?2:1,paddingX:u?4:3,paddingY:1,children:(0,P.jsx)(j,{headingLevel:3,size:u?"100":"200",children:o.title})})}var A=r(249459),B=r(409726);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t,r=e.accessibilityLabelText,i=e.board,o=e.boardPickerSuggestedBoards,s=e.buttonText,l=e.clientTrackingParams,c=e.displayAlreadySavedMsg,d=e.i18n,u=e.imageSignature,_=e.isSectionOpen,h=e.logContextEvent,f=e.onButtonClick,p=e.onClick,g=e.pinId,b=e.saveSessionId,y=e.shouldOpenSections,m=void 0===y||y,v=e.showSaveToProfile,x=e.showFlyoutSaveButton,S=e.surfaceOriginViewParameter,j=e.useLegoLayout,w=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=w[0],I=w[1],k=(0,n.useRef)(null),T=!!i.section_count&&i.section_count>0,z=i||{},E=z.images,L=z.image_cover_url,R=!(null!=L&&L.includes("custom"))&&E&&E["75x75"]&&E["75x75"][E["75x75"].length-1].url||L;(0,n.useEffect)(function(){"boardless"===i.type&&h({aux_data:{board_picker_surface_origin:S,board_picker_suggested_boards:o,image_signature:u,pin_id:g,save_session_id:b},clientTrackingParams:l,event_type:13,view_parameter:3990,view_type:21})},[]);var Z=function(){p(i)};return(0,P.jsx)(a.xu,{"data-test-id":T?"boardWithSection":"boardWithoutSection",role:"listitem",children:(0,P.jsx)(a.iP,{ref:k,onBlur:function(){I(!1)},onFocus:function(){I(!0)},onMouseEnter:function(){I(!0)},onMouseLeave:function(){I(!1)},onTap:Z,children:(0,P.jsxs)(a.xu,{alignItems:"center",color:C?"secondary":"default","data-test-id":"board-row-".concat(i.name||""),display:"flex",height:j?64:52,marginBottom:+!j,marginEnd:j?2:3,marginStart:j?2:3,marginTop:+!j,padding:2*!!j,rounding:3,children:[(0,P.jsxs)(a.xu,{"aria-hidden":"true",flex:"none",height:j?48:36,marginBottom:+!j,marginEnd:j?2:3,marginStart:2*!j,marginTop:+!j,overflow:"hidden",width:j?48:36,children:[v&&"boardless"===i.type&&(0,P.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:(0,P.jsx)(a.xu,{alignItems:"center",color:C?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,P.jsx)(a.xu,{children:(0,P.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"history",size:24})})})}),R&&!m&&(0,P.jsx)(a.zd,{height:j?48:36,rounding:2,wash:!0,width:j?48:36,children:(0,P.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:j?48:36,naturalWidth:j?48:36,src:R})}),R&&m?(0,P.jsx)(a.zd,{height:j?48:36,rounding:2,wash:!0,width:j?48:36,children:(0,P.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:j?48:36,naturalWidth:j?48:36,src:R})}):(0,P.jsx)(a.zd,{height:j?48:36,rounding:2,width:j?48:36,children:(0,P.jsx)(a.xu,{color:m?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,P.jsxs)(a.xu,{flex:"grow",marginStart:+!j,overflow:"hidden",paddingY:1,children:[(0,P.jsx)(a.xv,{lineClamp:1,overflow:"breakAll",weight:m||!m?"bold":"normal",children:i.name}),c&&(0,P.jsx)(a.xu,{marginTop:1,children:(0,P.jsx)(a.xv,{align:"start",color:"default",size:"100",children:d.bt("Esse Pin já foi salvo aqui", "Saved here already", "BoardFlyout.AlreadySaved.Message", undefined, true)})})]}),(0,P.jsxs)(a.kC,{alignItems:"center",gap:2,children:[(0===i.section_count||!m)&&(void 0===x||x)&&(0,P.jsx)(a.xu,{"data-test-id":"board-row-save-button-container",flex:"none",opacity:+!!C,children:(0,P.jsx)(a.zx,{accessibilityLabel:r||d.bt("salvar", "save", "boardRow.saveButton", undefined, true),color:"red","data-test-id":"board-row-save-button",onClick:function(e){var t=e.event;Z(),f&&f(),t.stopPropagation()},tabIndex:-1,text:s||d.bt("Salvar", "Save", "save button", undefined, true)})}),i&&!_?(0,P.jsx)(a.xu,{marginEnd:2*!j,children:(0,P.jsx)(B.Z,{board:i,showCollaborativeIcon:!!i.is_collaborative,showPrivateIcon:i.privacy===A.ZP.BoardPrivacy.SECRET,showProtectedIcon:i.privacy===A.ZP.BoardPrivacy.PROTECTED,showSectionsIcon:T&&m,useLegoLayout:j})}):null]})]})})})},z=function(e){var t=(0,s.u)().logContextEvent,r=(0,d.Z)();return(0,P.jsx)(T,k(k({},e),{},{i18n:r,logContextEvent:t}))},E=r(200619),L=r(149119);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M=function(){return!!e})()}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}var J=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&N(o,e);var t,r,i=(t=M(),function(){var e,r=H(o);return e=t?Reflect.construct(r,arguments,H(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return U(F(e=i.call.apply(i,[this].concat(r))),"state",{hovered:!1}),U(F(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),U(F(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),U(F(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(t.section,r)}),U(F(e),"handleButtonClick",function(t){var r=t.event,n=e.props.onButtonClick;e.handleTouch(),n&&n(),r.stopPropagation()}),U(F(e),"tapAreaRef",(0,n.createRef)()),e}return r=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,t,r,n,i,o,s=this.state.hovered,l=this.props,c=l.buttonText,d=l.section,u=l.showSectionSaveButton,_=l.useLegoLayout;return(0,P.jsx)(a.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,P.jsxs)(a.xu,{alignItems:"center",color:s?"secondary":"default",dangerouslySetInlineStyle:{__style:_?{}:{marginLeft:53,marginRight:11}},"data-test-id":"section-row-".concat(d.title||""),display:"flex",height:_?64:52,marginEnd:2*!!_,marginStart:2*!!_,marginTop:+!_,padding:2*!!_,role:"listitem",rounding:3,children:[_&&!!(null!=(e=d.preview_pins)&&e.length)&&(0,P.jsx)(L.Z,{image_url:null!=(t=d.preview_pins[0].image_square_url)?t:"",naturalHeight:null!=(r=null==(n=d.preview_pins[0].image_square_size_pixels)?void 0:n.height)?r:1,naturalWidth:null!=(i=null==(o=d.preview_pins[0].image_square_size_pixels)?void 0:o.width)?i:1}),(0,P.jsx)(a.xu,{flex:"grow",marginStart:4*!_,paddingY:1,children:(0,P.jsx)(a.xv,{lineClamp:1,weight:_?"bold":"normal",children:d.title})}),s&&u&&(0,P.jsx)(a.xu,{flex:"none",marginEnd:2*!_,children:(0,P.jsx)(a.zx,{accessibilityLabel:"save button",color:"red",onClick:this.handleButtonClick,text:c||this.props.i18n.bt("Salvar", "Save", "save button", undefined, true)})})]})})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function X(e){var t=(0,d.Z)();return(0,P.jsx)(J,D(D({},e),{},{i18n:t}))}function V(e){var t=(0,d.Z)(),r=e.board,n=e.buttonText,i=e.onClick,o=e.onButtonClick,s=e.showSectionSaveButton,l=e.useLegoLayout,u=(0,E.Z)(),_=(0,c.Z)(),h=(0,m.lJ)(_,u),f=(0,g.Z)({name:"BoardSectionsRepinResource",options:{board_id:r.id,orbac_subject_id:h},noCache:!0}),p=f&&f.data||[];return(0,P.jsxs)(a.xu,{children:[!f.isLoaded&&(0,P.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,P.jsx)(a.xH,{accessibilityLabel:t.bt("carregando o seletor de pastas", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),f.isLoaded&&(0,P.jsxs)(a.xu,{children:[l&&(0,P.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,P.jsx)(j,{headingLevel:3,size:"200",children:t.bt("Subpasta", "Section", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),p.map(function(e){return(0,P.jsx)(X,{board:r,buttonText:n,onButtonClick:o,onClick:i,section:e,showSectionSaveButton:s,useLegoLayout:l},e.id)})]})]})}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Y(e){var t,r=e.onClick,i=e.title,o=e.showIcon,s=(0,d.Z)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{for(o=(r=r.call(e)).next;!(l=(n=o.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return q(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1];return(0,P.jsx)(a.iP,{dataTestId:"board-suggestion-row-button",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:function(){r({title:i})},children:(0,P.jsxs)(a.xu,{alignItems:"center",color:c?"secondary":"default",display:"flex",height:o?64:52,marginBottom:1,marginEnd:3,marginStart:3,role:"listitem",rounding:3,children:[(0,P.jsx)(a.xu,{flex:"none",height:o?48:36,marginBottom:1,marginEnd:3,marginStart:o?1:2,marginTop:1,overflow:"hidden",rounding:o?2:1,width:o?48:36,children:(0,P.jsx)(a.xu,{alignItems:o?"center":void 0,color:"secondary",display:o?"flex":void 0,height:"100%",justifyContent:o?"center":void 0,width:"100%",children:o&&(0,P.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})})}),(0,P.jsx)(a.xu,{flex:"grow",paddingY:1,children:(0,P.jsx)(a.xv,{lineClamp:1,weight:"bold",children:i})}),c&&(0,P.jsx)(a.xu,{marginEnd:2,children:(0,P.jsx)(a.zx,{accessibilityLabel:"create button",color:"red",text:s.bt("Criar", "Create", "create button to create a new board", undefined, true)})})]})})}function K(e){var t=(0,d.Z)(),r=e.suggestionsResource,i=e.onClick,o=e.pinBuilderSuggestions,s=e.inWebRepinFlowExp,l=o||r&&r.data||[],c=(0,P.jsxs)(n.Fragment,{children:[s&&(0,P.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,P.jsx)(j,{headingLevel:3,size:"100",children:t.bt("Sugestões", "Suggestions", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),l.map(function(e,t){return(0,P.jsx)(Y,{onClick:i,showIcon:s,title:e.title},t)})]});return(0,P.jsx)(n.Fragment,{children:l?c:(0,P.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,P.jsx)(a.xH,{accessibilityLabel:t.bt("carregando sugestões de pasta", "loading board suggestions", "accessibility text for loading spinner", undefined, true),show:!0})})})}U(J,"defaultProps",{showSectionSaveButton:!0});var Q=r(440077);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function er(e){var t=e.isBoardCreate,r=e.onCreateBoardClick,i=e.useLegoLayout,o=(0,d.Z)(),s=ee((0,n.useState)(!1),2),l=s[0],c=s[1],u=ee((0,n.useState)(!1),2),_=u[0],h=u[1];return(0,P.jsx)(a.xu,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:2,children:(0,P.jsx)(a.iP,{dataTestId:t?"create-board-button":"create-section-button",onBlur:function(){return h(!1)},onFocus:function(){return h(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTap:r,rounding:2,children:(0,P.jsxs)(a.xu,{alignItems:"center",color:l?"secondary":"default",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=G(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},_?{border:"2px solid ".concat(Q.nTo)}:{})},display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,P.jsx)(a.xu,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:4*!i,rounding:2*!!i,children:(0,P.jsx)(a.JO,{accessibilityLabel:"",color:i?"default":"error",icon:i?"add":"add-circle",size:i?20:28})}),t?(0,P.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:o.bt("Criar pasta", "Create board", " - ", undefined, true)}):(0,P.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:o.bt("Criar subpasta", "Create section", " - ", undefined, true)})]})})})}var en=r(266637),ei=r(63776);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach(function(t){ep(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ec(e){return function(e){if(Array.isArray(e))return ed(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ed(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ed(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e_(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eh=function(){return!!e})()}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e,t,r){return(t=eg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eg(e){var t=function(e,t){if("object"!=eo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eo(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eo(t)?t:t+""}var eb="allBoards",ey="shortlist",em=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eu(s,e);var t,r,i=(t=eh(),function(){var e,r=ef(s);return e=t?Reflect.construct(r,arguments,ef(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e_(e)}(this,e)});function s(){var e,t;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return ep(e_(e=i.call.apply(i,[this].concat(n))),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,o.Z)()}),ep(e_(e),"handleScroll",function(){e_(e)._container,(0,e.props.logContextEvent)({event_type:110,component:13282,view_type:21})}),ep(e_(e),"getComplexBoardPickerThreshold",function(){var t,r=e.props,n=r.boardResource,i=r.checkExperiment,o=(null==n||null==(t=n.data)?void 0:t.all_boards)||[],a=o.length>=2&&o.length<=5?i("web_curation_board_picker_tune_complex_board_picker").group:"control",s=3;switch(a){case"enabled_2":s=2;break;case"enabled_4":case"employees_enabled":s=4;break;case"enabled_5":s=5;break;default:s=3}return s}),ep(e_(e),"refHandler",function(t){e.removeEventListeners(),t&&t.addEventListener("scroll",e.handleScroll,{once:!0}),e._container=t}),ep(e_(e),"getItems",function(t){var r=e.props,n=r.boardResource,i=r.showSaveToProfile,o=r.checkExperiment;if(!(null!=n&&n.data))return[];var a=n.data.all_boards,s=a.length>=e.getComplexBoardPickerThreshold(),l=i&&a.length&&o("web_curation_board_picker_reorder_profile_option").anyEnabled,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n.bt("Perfil", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],d=e.getAllBoards().map(function(t,r){return e.mapBoards(t,eb,r)}),u=e.getShortlist().map(function(t,r){return e.mapBoards(t,ey,r)}),_=e.state.searchQuery;return _.length>=b.Z?ec((0,en.j)(d,_)):[].concat(ec(s||!i||l?[]:[{type:"header",title:e.props.i18n.bt("Salve rapidamente e organize depois", "Quick save and organize later", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle", undefined, true)}].concat(c)),ec(s&&s&&i&&!l?c:[]),ec(s&&null!=u&&u.length?[{category:ey,type:"header",title:t?e.props.i18n.bt("Principais escolhas", "Top choices", "PinBetterSave.BoardFlyout.TopChoicesSectionTitle", undefined, true):e.props.i18n.bt("Principais sugestões de pasta", "Top board suggestions", "Header for top suggesions in board picker", undefined, true)}].concat(ec(u)):[]),ec(a.length>0?[{type:"header",title:!s&&i?e.props.i18n.bt("Salvar na pasta", "Save to board", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle", undefined, true):e.props.i18n.bt("Todas as pastas", "All boards", "Header for all boards in board picker", undefined, true)}].concat(ec(d),ec(l?c:[])):[]))}),ep(e_(e),"mapBoards",function(t,r,n){var i=e.state,o=i.selectedBoardId,a=i.selectedBoardCategory,s=t.id===o&&r===a;return el(el({},t),{},{category:r,isOpen:s,gridIndex:n})}),ep(e_(e),"handleBack",function(){var t=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),t&&t(null)}),ep(e_(e),"handleSectionClick",function(t,r){var n=e.props,i=n.clientTrackingParams,o=n.imageSignature,a=n.logContextEvent,s=n.onItemChosen,l=n.pinId,c=n.surfaceOriginViewParameter,d=e.state,u=d.saveSessionId,_=d.searchQuery;a({event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:3133,aux_data:{board_id:r.id,board_picker_surface_origin:c,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,image_signature:o,is_profile_save:!1,pin_id:l,save_session_id:u,search_query:_,section_id:t.id}}),s({boardId:r.id,url:t.slug?"".concat(r.url).concat(t.slug,"/"):r.url,sectionId:t.id,title:t.title||"",type:t.type,imageCoverUrl:r.image_cover_url,ownerUsername:r.owner&&r.owner.username||""})}),ep(e_(e),"getPinBuilderSuggestions",(t=regeneratorRuntime.mark(function t(){var r,n,i,o,a,s,c,d,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r=e.props).clientTrackingParams,i=r.imageSignature,o=r.logContextEvent,a=r.pinId,s=r.surfaceOriginViewParameter,c=e.state.saveSessionId,!a){t.next=7;break}return t.next=5,(0,l.Z)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:a}});case 5:(d=t.sent).resource_response.data&&(u=d.resource_response.data.map(function(e){var t,r;return{title:null!=(t=e.title)?t:"",metadata:JSON.parse(null!=(r=null==e?void 0:e.metadata)?r:"{}")}})||[],e.setState({boardSuggestions:u}),o({aux_data:{board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:a,save_session_id:c},component:13282,clientTrackingParams:n,event_type:13,view_parameter:3992,view_type:21}));case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(e){ea(o,n,i,a,s,"next",e)}function s(e){ea(o,n,i,a,s,"throw",e)}a(void 0)})})),ep(e_(e),"getAllBoards",function(){var t,r=e.props,n=r.boardResource,i=r.advertiser_id;return((null==n||null==(t=n.data)?void 0:t.all_boards)||[]).filter(function(e){return!i||"secret"!==e.privacy})}),ep(e_(e),"getShortlist",function(){var t,r=e.props,n=r.suggestedBoardsShortListResource,i=r.displayShortlistMostRecentBoard,o=r.boardResource,a=(null==o||null==(t=o.data)?void 0:t.boards_shortlist)||[];return i?a:(null==n?void 0:n.data)||[]}),ep(e_(e),"getBoards",function(t){return t===eb?e.getAllBoards():t===ey?e.getShortlist():[]}),ep(e_(e),"getSuggestedBoardsIds",function(){var t=e.props.showSaveToProfile,r=(t?e.getShortlist().slice(0,2):e.getShortlist()).map(function(e){return e.id});return t&&r.unshift("PROFILE_PINS"),r}),ep(e_(e),"getTopChoiceBoardsAuxData",function(){return(e.props.showSaveToProfile?e.getShortlist().slice(0,2):ec(e.getShortlist())).map(function(e){var t,r;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!=(t=e.recommendation_reason)?t:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!=(r=e.recommendation_reason)?r:"{}").score}})}),ep(e_(e),"getBoardTitleSuggestionsAuxData",function(){return e.state.boardSuggestions.map(function(e){return{board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}})}),ep(e_(e),"handleBoardWithSectionsClick",function(t){var r=e.props,n=r.clientTrackingParams,i=r.logContextEvent,o=r.pinId,a=r.setBoardWithSection,s=r.surfaceOriginViewParameter,l=e.state,c=l.saveSessionId,d=l.searchQuery,u=l.selectedBoardId,_=l.selectedBoardCategory,h=e.getBoards(t.category).find(function(e){return e.id===t.id}),f=u===t.id&&_===t.category;i({event_type:13,clientTrackingParams:n,component:13282,element:36,object_id_str:t.id,view_type:275,aux_data:{board_id:t.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,is_profile_save:!1,pin_id:o,save_session_id:c,search_query:d}}),h&&a&&a(h),e.setState({isSectionOpen:!0,selectedBoardId:f?"":t.id,selectedBoardCategory:f?"":t.category})}),ep(e_(e),"handleBoardClick",function(t){var r=t.board,n=t.toggleSections,i=e.props,o=i.clientTrackingParams,a=i.imageSignature,s=i.logContextEvent,l=i.onItemChosen,c=i.pinId,d=i.surfaceOriginViewParameter,u=e.state,_=u.saveSessionId,h=u.searchQuery;e.setState({searchBoxFocused:!1}),n?(s({event_type:101,component:13282,element:36,clientTrackingParams:o,object_id_str:r.id,view_type:91,view_parameter:r.category===ey?3988:3989,aux_data:{board_id:r.id,board_component:r.category===ey?3988:3989,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,image_signature:a,is_profile_save:!1,pin_id:c,save_session_id:_,search_query:h}}),e.handleBoardWithSectionsClick({category:r.category,gridIndex:r.gridIndex,id:r.id})):(s("boardless"===r.type?{event_type:101,clientTrackingParams:o,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:3990,aux_data:{board_id:r.id,board_component:3990,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,image_signature:a,is_profile_save:!0,pin_id:c,save_session_id:_,search_query:h}}:{event_type:101,clientTrackingParams:o,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:r.category===ey?3988:3989,aux_data:{board_id:r.id,board_component:r.category===ey?3988:3989,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,image_signature:a,is_profile_save:"boardless"===r.type,pin_id:c,save_session_id:_,search_query:h}}),l({boardId:r.id,url:r.url,title:r.name||"",type:r.type,imageCoverUrl:r.image_cover_url,privacy:r.privacy}))}),ep(e_(e),"handleSearchQueryUpdate",function(t){e.setState(function(e){return el(el({},e),{},{searchQuery:t})})}),ep(e_(e),"handleCreateBoardClick",function(t){var r=e.props,n=r.clientTrackingParams,i=r.imageSignature,o=r.logContextEvent,a=r.onBoardCreate,s=r.pinId,l=r.surfaceOriginViewParameter,c=r.surface,d=e.state,u=d.saveSessionId,_=d.searchQuery;o({event_type:101,clientTrackingParams:n,component:13282,element:249,view_type:91,view_parameter:t?87:3132,aux_data:{board_component:t?87:3132,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:u,search_query:_,source:null!=c?c:v.Z.BOARD_PICKER}}),a({title:_})}),ep(e_(e),"handleBoardSuggestionClick",function(t){var r=e.props,n=r.clientTrackingParams,i=r.imageSignature,o=r.logContextEvent,a=r.onBoardCreate,s=r.pinId,l=r.surfaceOriginViewParameter,c=e.state.saveSessionId;o({event_type:101,clientTrackingParams:n,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:l,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:c}}),a(t)}),e}return r=[{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.clientTrackingParams,r=e.logContextEvent,n=e.imageSignature,i=e.pinId,o=e.setBoardWithSection,a=e.surfaceOriginViewParameter,s=this.state.saveSessionId;o&&o(null),r({event_type:13,component:13282,clientTrackingParams:t,element:10960,aux_data:{board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),image_signature:n,pin_id:i,save_session_id:s}})}},{key:"componentDidUpdate",value:function(e){var t,r,n=this.state.saveSessionId,i=this.props.clientTrackingParams;!(null!=(t=e.suggestedBoardsShortListResource)&&t.isLoaded)&&null!=(r=this.props.suggestedBoardsShortListResource)&&r.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:i,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:n}})}},{key:"removeEventListeners",value:function(){var e=this._container;e&&e.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e,t,r,i,o,s,l,c=this,d=this.props,h=d.accessibilityLabelText,f=d.boardResource,p=d.buttonText,g=d.changeBoardModal,b=d.clientTrackingParams,y=d.customItem,m=d.headerText,v=d.hideAlreadySavedMsg,S=d.imageSignature,A=d.onButtonClick,B=d.paneHeight,C=d.paneWidth,I=d.pinAlreadySavedBoard,k=d.pinId,O=d.requestContext,T=d.sectionText,E=d.showSaveToProfile,L=d.showSearchField,R=d.showCreateBoardButton,Z=d.showFlyoutSaveButton,D=d.showSections,N=d.showSectionSaveButton,F=d.suggestedBoardsShortListResource,M=d.surfaceOriginViewParameter,H=d.useStoryboardStyle,U=d.useLegoLayout,W=d.boardFlyoutStyle,J=this.state,X=J.boardSuggestions,q=J.isSectionOpen,Y=J.saveSessionId,Q=J.searchBoxFocused,G=J.searchQuery;if(!f)return null;var $=f.isLoaded,ee=f.error,et=[];($&&!ee||F&&F.data&&!F.error)&&(et=this.getItems(!!U));var en=et.filter(function(e){return e&&e.category===eb}).length,eo=en>this.getComplexBoardPickerThreshold();eo||0!==X.length||this.getPinBuilderSuggestions();var ea=H?200:322,es=H?214:334,el=B||290,ec=JSON.stringify(this.getTopChoiceBoardsAuxData()),ed=O.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",eu="";null!==q&&(eu=O.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var e_=function(e){return(0,P.jsxs)(n.Fragment,{children:[!U&&(0,P.jsx)(a.iz,{}),(0,P.jsx)(a.xu,{borderStyle:U&&en>=3&&et.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},height:U?80:52,overflow:"hidden",children:(0,P.jsx)(er,{isBoardCreate:e,onCreateBoardClick:function(t){t.event.stopPropagation(),c.handleCreateBoardClick(e)},useLegoLayout:U})})]})};return(0,P.jsxs)(a.xu,{color:"default","data-test-id":"board-picker-flyout",height:H||g?"100%":U?498:439,overflow:"hidden",rounding:2,width:U&&!g?"100%":C,zIndex:x.lI,children:[(0,P.jsx)(u.Z,{unsafeCSS:"\n.BoardsSlideLeft {\n  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRight {\n  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideLeftRTL {\n  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRightRTL {\n  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n@keyframes boardFlyoutSlideLeft {\n  from {\n    margin-left: 0%;\n  }\n\n  to {\n    margin-left: -100%;\n  }\n}\n\n@keyframes boardFlyoutSlideRight {\n  from {\n    margin-left: -100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideLeftRTL {\n  from {\n    margin-right: -100%;\n  }\n\n  to {\n    margin-right: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideRightRTL {\n  from {\n    margin-right: 0%;\n  }\n\n  to {\n    margin-right: -100%;\n  }\n}\n"}),$?null:(0,P.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:U&&!g?360:C,children:(0,P.jsx)(a.xH,{accessibilityLabel:this.props.i18n.bt("carregando o seletor de pastas", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),(0,P.jsx)(a.kC,{direction:"row",children:$&&(0,P.jsx)("div",{className:q?ed:eu,children:(0,P.jsx)(a.xu,{position:"relative",children:(0,P.jsxs)(a.xu,{direction:"row",display:"flex",width:U&&!g?720:(null!=C?C:0)*2,zIndex:new a.Ry(0),children:[(0,P.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:U&&!g?360:C,children:[U&&!g&&(0,P.jsx)(a.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,P.jsx)(j,{headingLevel:2,size:"300",textWeight:"bold",children:m||(E?this.props.i18n.bt("Salvar", "Save", "PinBetterSave.BoardFlyout.SavePlaceholder", undefined, true):this.props.i18n.bt("Salvar na pasta", "Save to board", "PinBetterSave.BoardFlyout.SaveToBoardPlaceholder", undefined, true))})}),(null!=L?L:!g)&&(0,P.jsxs)(a.xu,{"data-test-id":"search-boards-field-container",height:U?64:"auto",padding:null!=(e=null==W||null==(t=W.searchFieldStyle)?void 0:t.padding)?e:3*!U,paddingX:null!=(r=null==W||null==(i=W.searchFieldStyle)?void 0:i.paddingX)?r:U?4:3,paddingY:null==W||null==(o=W.searchFieldStyle)?void 0:o.paddingY,children:[(0,P.jsx)(ei.Z,{accessibilityClearButtonLabel:this.props.i18n.bt("Limpar texto de pesquisa da pasta", "Clear board search text", "dropdown.searchField.clearButtonLabel", undefined, true),accessibilityLabel:this.props.i18n.bt("Pesquise em suas pastas", "Search through your boards", "search bar placeholder text", undefined, true),focused:Q,id:"pickerSearchField",onChange:function(e){var t=e.value;return c.handleSearchQueryUpdate(t)},placeholder:this.props.i18n.bt("Pesquisar", "Search", "search bar placeholder text", undefined, true),size:null!=(s=null==W||null==(l=W.searchFieldStyle)?void 0:l.size)?s:"lg",value:G}),(0,P.jsx)(a.xu,{"aria-live":"assertive",display:"visuallyHidden",children:en?(0,_.Wc)(this.props.i18n.nbt(["Encontrei uma pasta", "Encontrei {{boardCount}} pastas"], en, "PinBetterSave.BoardFlyout.BoardFoundsDropdown", true),{boardCount:en.toString()}):this.props.i18n.bt("Nenhuma pasta encontrada", "No boards found", "PinBetterSave.BoardFlyout.noBoardFoundsDropdown", undefined, true)})]}),(0,P.jsxs)(a.xu,{ref:this.refHandler,maxHeight:U?el:ea,minHeight:U?290:ea,overflow:"scrollY",role:"list",children:[F&&!F.isLoaded?(0,P.jsx)(a.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,P.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,P.jsx)(a.xH,{accessibilityLabel:this.props.i18n.bt("carregando o seletor de pastas", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})})}):null,y,et.map(function(e,t){return"header"===e.type?(0,P.jsx)(w,{boardPickerSuggestedBoards:ec,clientTrackingParams:b,imageSignature:S,index:t,item:e,pinId:k,saveSessionId:Y,surfaceOriginViewParameter:M,useLegoLayout:U},"".concat(e.title)):(0,P.jsx)(a.xu,{children:(0,P.jsx)(z,{accessibilityLabelText:h,board:e,boardPickerSuggestedBoards:ec,buttonText:p,clientTrackingParams:b,displayAlreadySavedMsg:I&&I.id===e.id&&!v,imageSignature:S,onButtonClick:A,onClick:function(e){c.handleBoardClick({board:e,toggleSections:D&&!!e.section_count})},pinId:k,saveSessionId:Y,shouldOpenSections:D,showFlyoutSaveButton:Z,showSaveToProfile:E,surfaceOriginViewParameter:M,useLegoLayout:U})},"".concat(e.category,"-").concat(e.id))}),!eo&&X.length>0&&(0,P.jsx)(K,{inWebRepinFlowExp:U,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:X})]}),R&&e_(!0)]}),q&&(0,P.jsxs)(a.xu,{direction:"column",display:"flex",marginBottom:2*!!U,width:U&&!g?360:C,children:[(0,P.jsxs)(a.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,P.jsx)(a.sg,{span:2,children:(0,P.jsx)(a.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,P.jsx)(a.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,P.jsx)(a.sg,{span:8,children:(0,P.jsx)(a.kC,{alignItems:"center",height:U?64:52,justifyContent:"center",children:(0,P.jsx)(j,{headingLevel:2,size:"300",textWeight:"bold",children:T||(U?this.props.i18n.bt("Salvar Pin em", "Save Pin to", "PinBetterSave.BoardFlyout.SectionHeader", undefined, true):this.props.i18n.bt("Escolha a subpasta", "Choose section", "Header for section header", undefined, true))})})}),(0,P.jsx)(a.sg,{span:2,children:(0,P.jsx)(a.xu,{})})]}),!U&&(0,P.jsx)(a.iz,{}),(0,P.jsx)(a.xu,{maxHeight:U?el:es,minHeight:U?354:es,overflow:"scrollY",children:et?(0,P.jsx)(n.Fragment,{children:et&&et.map(function(e){return"header"===e.type?null:(0,P.jsx)(a.xu,{role:"list",children:e.isOpen&&(0,P.jsxs)(n.Fragment,{children:[U&&(0,P.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,P.jsx)(j,{headingLevel:3,size:"100",children:c.props.i18n.bt("Pasta", "Board", "PinBetterSave.BoardFlyout.BoardPickerTitle", undefined, true)})}),(0,P.jsx)(z,{board:e,boardPickerSuggestedBoards:ec,buttonText:p,displayAlreadySavedMsg:I&&I.id===e.id,isSectionOpen:!0,onButtonClick:A,onClick:function(e){c.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:Y,shouldOpenSections:!1,showFlyoutSaveButton:Z,useLegoLayout:U}),(0,P.jsx)(V,{board:e,buttonText:p,onButtonClick:A,onClick:c.handleSectionClick,showSectionSaveButton:N,useLegoLayout:U})]})},"".concat(e.category,"-").concat(e.id))})}):null}),R&&!g&&e_(!1)]})]})})})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eg(n.key),n)}}(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.PureComponent);function ev(e){var t=(0,s.u)().logContextEvent,r=(0,d.Z)(),n=(0,h.Z)().checkExperiment;return(0,P.jsx)(em,el(el({},e),{},{checkExperiment:n,i18n:r,logContextEvent:t,requestContext:(0,f.B)()}))}function ex(e,t,r){var n=e.advertiser,i={};if(r&&r.user&&r.user.username&&r.id!==(t.isAuth?t.id:void 0)&&(i.orbacActingAs=r,i.username=r.user.username),t&&n){var o=e.advertiser;if(t.isAuth&&o.is_impersonation)return el({hasMUA:o.owner_user_id!==t.id,advertiser_id:o.id,username:o.owner_user_id},i);if(t.isAuth&&o.owner_user_id!==t.id)return el({hasMUA:!0,advertiser_id:o.id,username:o.owner_user_id},i);if(t.isAuth&&o.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:o.id,username:"me"}}return el({advertiser_id:void 0,hasMUA:void 0},i)}function eS(e){var t=e.advertiser_id,r=e.hasMUA,n=e.boardFilter,i=void 0===n?"all":n,o=e.username,a=el(el({field_set_key:"board_picker",filter:r?"protected":i},o?{username:o}:Object.freeze({})),t?{advertiser_id:t}:{});return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(a=el(el({},a),{},{username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:i})),a}function eP(e,t){return function(r,n){return r((0,p.jB)("BoardPickerBoardsResource",eS(ex(n(),e,t))))}}function ej(e){var t=(0,c.Z)(),r=(0,i.v9)(function(r){return ex(r,t,e.orbacActingAs)}),n=el(el({},e),r),o=(0,g.Z)({name:"BoardPickerBoardsResource",options:eS(n)});return(0,P.jsx)(ev,el(el({},n),{},{boardResource:o}))}function ew(e){var t=(0,y.Z)(),r=(0,c.Z)(),n=(0,m.lJ)(r,t);return(0,P.jsx)(ej,el(el({},e),{},{orbacActingAs:n?t:void 0}))}function eA(e){var t=(0,g.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),r=(0,g.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(e.pinId,"/"),field_sets:["pin.pinned_to_board()"]},noCache:!0}).data;return(0,P.jsx)(ev,el(el({},e),{},{pinAlreadySavedBoard:null==r?void 0:r.pinned_to_board,suggestedBoardsShortListResource:t}))}ep(em,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},409726:function(e,t,r){var n=r(20256),i=r(927251),o=r(307345),a=r(680811),s=function(e){var t=e.collaborator_count,r=e.useLegoLayout,i=e.type;return r?(0,a.jsx)(n.xu,{marginEnd:2*!!t,children:(0,a.jsx)(o.Z,{type:i})}):(0,a.jsx)(o.Z,{type:i})};t.Z=function(e){var t,r=e.board,l=e.showCollaborativeIcon,c=e.showPrivateIcon,d=e.showProtectedIcon,u=e.showSectionsIcon,_=e.useLegoLayout,h=(null==r||null==(t=r.collaborating_users)?void 0:t.length)||0;return l||c||d||u?(0,a.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!_,children:[c&&(0,a.jsx)(s,{collaborator_count:h,type:"secret",useLegoLayout:_}),d&&(0,a.jsx)(s,{collaborator_count:h,type:"protected",useLegoLayout:_}),l&&(_?(0,a.jsx)(i.Z,{board:r,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(o.Z,{type:"group"})),u&&(0,a.jsx)(o.Z,{type:"sections"})]}):null}},149119:function(e,t,r){var n=r(20256),i=r(680811);t.Z=function(e){var t=e.image_url,r=e.naturalHeight,o=e.naturalWidth;return(0,i.jsx)(n.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,i.jsx)(n.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,i.jsx)(n.Ee,{alt:"",naturalHeight:r,naturalWidth:o,src:t})})})}},38359:function(e,t,r){r.d(t,{BT:function(){return E},Du:function(){return R},Fh:function(){return k},HY:function(){return L},HZ:function(){return T},Jw:function(){return y},Kp:function(){return M},L7:function(){return n},LT:function(){return u},Lj:function(){return N},Nw:function(){return w},Q_:function(){return j},Qc:function(){return i},R5:function(){return B},RA:function(){return A},Tt:function(){return I},UF:function(){return c},UV:function(){return a},VB:function(){return v},W1:function(){return o},Ws:function(){return _},X5:function(){return C},Yt:function(){return z},ZW:function(){return l},cK:function(){return x},cy:function(){return b},fA:function(){return D},gm:function(){return m},h7:function(){return P},k:function(){return p},mE:function(){return F},o4:function(){return f},oL:function(){return Z},qf:function(){return h},tr:function(){return d},uD:function(){return S},uO:function(){return g},vF:function(){return s},wJ:function(){return O}});var n=1,i=2,o="female",a="male",s="unspecified",l="en-US",c="US",d=3,u="Welcome",_="Gender",h="CountryLocale",f="InterestPicker",p="UseCase",g="PinPicker",b="LoadingStep",y="AppInstall",m="NUX_PIN_PICKER_STEP_STATUS",v="NUX_USE_CASE_STEP_STATUS",x={NUX_GENDER_STEP_NAME:_,NUX_COUNTRY_LOCALE_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:f,NUX_USE_CASE_STEP_NAME:p,NUX_PIN_PICKER_STEP_NAME:g,NUX_LOADING_STEP_NAME:b,NUX_APP_INSTALL_STEP_NAME:y},S=2,P=3,j=6,w=112,A=160,B=60,C=1e3,I=2500,k=1900,O=2e3,T=3,z=1,E=3,L=3,R=5e3,Z=250,D=1e10,N=507641,F=300,M=200},325184:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(20256),i=r(59355),o=r(24246),a=r(774838),s=r(824751),l=r(832333),c=r(680811);function d(e){var t,r,i,o=e.cover,a=e.height,s=e.image,d=e.width;return o?(0,c.jsx)(l.Z,{customCover:o.isCustom,height:a,imgPos:o.position||{width:0,height:0,x:0,y:0},imgUrl:null!=(i=o.url)?i:"",width:d}):s&&s.url?(0,c.jsx)(n.zd,{height:a,wash:!0,width:d,children:(0,c.jsx)(n.Ee,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:null!=(t=s.height)?t:1,naturalWidth:null!=(r=s.width)?r:1,src:s.url})}):(0,c.jsx)(n.xu,{color:"secondary",height:a,width:d})}var u=r(313412),_=r(824141);function h(e){var t=e.boardThumbs,r=void 0===t?[]:t,l=e.cover,h=e.editButton,f=e.isActive,p=e.isSecret,g=e.layout,b=e.sensitivityScreenAuxData,y=e.showSensitivityScreen,m=void 0!==y&&y,v=(0,o.Z)();(0,i.Q)(m?{component:13861,view_type:215,aux_data:b}:null);var x=(0,a.B)().isRTL,S=(0,_.F)(g),P=S.height,j=S.width,w=Math.floor(P/2),A=Math.floor(j/3),B=l?void 0:r[0],C=r.slice(+!l);return(0,c.jsxs)(n.zd,{height:P,rounding:4,wash:f,width:j,children:[(0,c.jsx)(n.xu,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:m?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,c.jsxs)(n.xu,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,c.jsx)(d,{cover:l,height:P,image:B,width:Math.floor(j/3*2)}),(0,c.jsxs)(n.kC,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,c.jsx)(u.Z,{height:w,image:C[0],width:A}),(0,c.jsx)(u.Z,{height:w,image:C[1],width:A})]})]})}),p&&(0,c.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!x,marginStart:2,marginTop:2,position:"absolute",right:x,rounding:"circle",top:!0,width:32,children:(0,c.jsx)(s.Z,{})}),f&&h&&(0,c.jsx)(n.xu,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:x,marginBottom:2,marginEnd:2,position:"absolute",right:!x,rounding:"circle",width:32,children:h}),m&&(0,c.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(n.X6,{align:"center",color:"light",size:"400",children:v.bt("Esta pasta pode ter conteúdo sensível", "This board may contain sensitive content", "profileBoardCard.boardCollage.heading", undefined, true)})})]})}},313412:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(20256),i=r(680811);function o(e){var t=e.image,r=e.width,o=e.height;return t&&t.url?(0,i.jsx)(n.zd,{height:o,wash:!0,width:r,children:(0,i.jsx)(n.Ee,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:t.height||1,naturalWidth:t.width||1,src:t.url})}):(0,i.jsx)(n.xu,{color:"secondary",height:o,width:r})}},927251:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(319226),i=r(935059),o=r(680811);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t,r,n,i,o,a=null!=(t=null!=(r=null==e?void 0:e.imageMediumUrl)?r:null==e?void 0:e.image_medium_url)?t:"",s=null!=(n=null==e?void 0:e.avatar_color_index)?n:void 0;return{name:null!=(i=null!=(o=null==e?void 0:e.fullName)?o:null==e?void 0:e.full_name)?i:"",color:s,src:"https://s.pinimg.com/images/user/default_75.png"===a?void 0:a}}function c(e){var t=e.board,r=e.forceViewer,s=e.isCompact,c=e.ownerOnly,d=(0,i.Z)(),u=c?[l(null==t?void 0:t.owner)]:(function(e,t,r){var n=null!=e?e:{},i=n.collaborated_by_me,o=n.collaborating_users,s=n.owner,l=null!=o?o:[],c=[s];if(i||r){var d=l.findIndex(function(e){return t.isAuth&&e.id===t.id});if(-1!==d){var u=l.splice(d,1)[0];c.push(u)}else c.push(t)}var _=a(l).sort(function(e,t){var r,n,i,o;return(null!=(r=e.full_name)?r:"")>(null!=(n=t.full_name)?n:"")?1:(null!=(i=t.full_name)?i:"")>(null!=(o=e.full_name)?o:"")?-1:0});return[].concat(c,a(_))})(t,d,r).map(l);return(0,o.jsx)(n.HE,{collaborators:u,size:s?"xs":"sm"})}},824141:function(e,t,r){r.d(t,{F:function(){return i},m:function(){return o}});var n={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return n["square"===e?"square":"wide"]}function o(e){return i(e).width+16}},592410:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(20256),i=r(24246),o=r(325184),a=r(680811);function s(e){var t=e.boardThumbs,r=e.isChangeBoardModal,s=e.isSecret,l=e.name,c=e.onNameChange,d=e.onVisibilityChange,u=e.submitError,_=(0,i.Z)();return(0,a.jsx)(n.xu,{paddingX:8,children:(0,a.jsxs)(n.kC,{direction:"column",gap:{row:0,column:4},children:[t&&!r&&(0,a.jsx)(o.Z,{boardThumbs:t,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,a.jsxs)(n.kC,{direction:"column",gap:{row:0,column:2},children:[(0,a.jsx)(n.xv,{size:"100",children:_.bt("Nome", "Name", "boardlessPins.createBoard.boardNameText", undefined, true)}),(0,a.jsx)(n.nv,{id:"boardName",name:"boardName",onChange:c,placeholder:_.bt("Adicione um título, como \"Faça você mesmo\" ou \"Receitas\"", "Add a title, like “DIY” or “Recipes”", "boardlessPins.createBoard.boardNameTextPlaceholder", undefined, true),size:"lg",value:l})]}),(0,a.jsxs)(n.kC,{direction:"column",gap:{row:0,column:2},children:[(0,a.jsx)(n.xv,{size:"100",children:_.bt("Visibilidade", "Visibility", "boardlessPins.createBoard.visibilityTitle", undefined, true)}),(0,a.jsxs)(n.kC,{gap:{row:4,column:0},children:[(0,a.jsx)(n.XZ,{checked:s,id:"boardVisibility",name:"boardVisibility",onChange:d}),(0,a.jsxs)(n.kC,{direction:"column",gap:{row:0,column:1},children:[(0,a.jsx)(n.xv,{children:_.bt("Manter esta pasta secreta", "Keep this board secret", "boardlessPins.createBoard.visibilityCheckbox", undefined, true)}),(0,a.jsx)(n.xv,{color:"subtle",children:_.bt("Apenas você e seus colaboradores poderão ver a pasta.", "So only you and collaborators can see it.", "boardlessPins.createBoard.visibilityCheckboxInfo", undefined, true)})]})]})]}),u&&(0,a.jsx)(n.xv,{color:"error",children:u})]})})}},329197:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(233597);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return(0,n.U)("BoardResource",{options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:e,field_set_key:t},r?{orbac_subject_id:r}:{})})}},679602:function(e,t,r){r.d(t,{S:function(){return h},Z:function(){return f}});var n=r(27399),i=r(329197),o=r(773382),a=r(779686),s=r(148266),l=r(438274),c=r(382802),d=function(e){return function(t){c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Aguarde até concluir a ação da pasta anterior.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId)};function _(e,t){var r=e.source,n=e.target;n.boardId!==r.boardId?(t((0,i.Z)(r.boardId,"pin_count")),t((0,i.Z)(n.boardId,"pin_count"))):r.sectionId&&n.sectionId||t((0,i.Z)(n.boardId,"pin_count")),r.sectionId&&t((0,o.Z)(r.sectionId)),n.sectionId&&t((0,o.Z)(n.sectionId))}function h(e){return function(t){var r=e.selectedPinIds,n=e.source,i=e.target;t((0,a.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:r,itemType:"pin"})),r.forEach(function(e){t((0,s.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),_(e,t)}}function f(e,t){return function(r){var i=e.selectedPinIds,o=e.target;return i.forEach(function(e){r((0,s.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),(function(e,t,r){var i=e.inverseSelection,o=e.selectedPinIds,s=e.source,c=e.target,_=e.orbacSubjectId;if(s.boardId===c.boardId&&(s.sectionId||null)===(c.sectionId||null))return Promise.reject();if(i){var h={board_id:s.boardId,new_board_id:c.boardId,old_section_id:s.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:_};return n.Z.create("BulkEditSelectAllResource",h).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(s)),t(u(c))])}).catch(d(r))}var f=function(e,r){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,a.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};f(s,c);var p=function(){return f(c,s)};if(c.boardId===s.boardId)if(c.sectionId){var g={section_id:c.sectionId,pins:o,orbac_subject_id:_};return n.Z.create("BoardSectionEditResource",g).callUpdate({showError:!1}).catch(function(e){p(),d(r)(e)})}else{var b={section_id:s.sectionId,pins:o,orbac_subject_id:_};return n.Z.create("BoardSectionPinsResource",b).callDelete({showError:!1}).catch(function(e){p(),d(r)(e)})}var y={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:_};return n.Z.create("BulkEditResource",y).callUpdate({showError:!1}).catch(function(e){p(),d(r)(e)})})(e,r,t).then(function(){return _(e,r)})}}},63776:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(387784),i=r(20256),o=r(680811);function a(e){var t=e.accessibilityClearButtonLabel,r=e.accessibilityLabel,a=e.focused,s=e.id,l=e.onBlur,c=e.onChange,d=e.onFocus,u=e.placeholder,_=e.value,h=e.size,f=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(a){var e=f.current;window.requestAnimationFrame(function(){var t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[a]),(0,o.jsx)(i.xu,{ref:f,children:(0,o.jsx)(i.Um,{accessibilityClearButtonLabel:t,accessibilityLabel:r,id:s,onBlur:l,onChange:c,onFocus:d,placeholder:u,size:void 0===h?"lg":h,value:_})})}},307345:function(e,t,r){var n=r(20256),i=r(24246),o=r(680811);t.Z=function(e){var t=e.type,r=(0,i.Z)(),a={group:{accessibilityLabel:r.bt("pasta compartilhada", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:r.bt("pasta protegida", "protected board", "Board picker protected board icon", undefined, true),icon:"protect"},secret:{accessibilityLabel:r.bt("Pasta secreta", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:r.bt("pasta com subpastas", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:r.bt("pasta com subpastas", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-down"}}[t],s="sections"===t||"sectionsInline"===t;return(0,o.jsx)(n.xu,{marginStart:+!!s,children:(0,o.jsx)(n.xu,{marginStart:2*!!s,children:"sections"===t||"sectionsInline"===t?(0,o.jsx)(n.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,o.jsx)(n.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},427475:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(581722),i=r(753398),o=r(27399),a=r(375217),s=r(647908),l=r(233597),c=r(660322);function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function u(){var e,t,r=(0,n.I0)(),u=(0,n.v9)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(t){var n,d,_,h,f,p,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.boardCreateOptions,_=t.deprecatedSchemaForNormalization,e.next=3,o.Z.create("BoardResource",d).callCreate();case 3:return f=(h=e.sent).resource_response.data,p=_?(0,i.Fv)(f,_):void 0,r((0,c.XM)("BoardResource",d,h,p)),r((0,a.fO)({event_type:20})),null!=(n=f.owner)&&n.id&&r((0,l.b)("UserResource",{options:{user_id:f.owner.id,field_set_key:"save_behavior"}})),g=u.BoardsResource||{},b=u.BoardsFeedResource||{},Object.keys(g).forEach(function(e){var t;(0,s.k)(e).username===(null==(t=f.owner)?void 0:t.username)&&r((0,c.jB)("BoardsResource",e))}),Object.keys(b).forEach(function(e){var t;(0,s.k)(e).username===(null==(t=f.owner)?void 0:t.username)&&r((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",f);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}}}]);